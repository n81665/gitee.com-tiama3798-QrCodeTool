<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
    <meta charset="utf-8" />
    <script src="../Js/jquery-1.11.3.min.js"></script>
    <script src="../Js/jquery-qrcode-master/jquery.qrcode.min.js"></script>
</head>
<body>

<div id="code"></div>
<script>
    //如果内容中有中文，在生成二维码钱就要把字符串转换成utf-8
    function toUtf8(str) {
        var out, i, len, c;
        out = "";
        len = str.length;
        for (i = 0; i < len; i++) {
            c = str.charCodeAt(i);
            if ((c >= 0x0001) && (c <= 0x007F)) {
                out += str.charAt(i);
            } else if (c > 0x07FF) {
                out += String.fromCharCode(0xE0 | ((c >> 12) & 0x0F));
                out += String.fromCharCode(0x80 | ((c >> 6) & 0x3F));
                out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));
            } else {
                out += String.fromCharCode(0xC0 | ((c >> 6) & 0x1F));
                out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));
            }
        }
        return out;
    }

    $('#code').qrcode({
        text: toUtf8('我是tianma'),
        width: 150,
        height: 150
    });

    //就目前 微信/支付宝等 不识别其他颜色的二维码
    //$('#code').qrcode({
    //    text: toUtf8('我是tianma'),
    //    width: 150,
    //    height: 150,
    //    background: '#f00',
    //    foreground: '#0f0'
    //});
</script>
</body>
</html>
